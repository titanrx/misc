<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1">
<title>NAV CANADA — Standards Overview</title>
<style>
:root{--bg:#0f1220;--panel:#161a2b;--panel-2:#1b2036;--text:#eef1f7;--muted:#b7bfd6;--c1:#7dd3fc;--c2:#34d399;--c3:#f59e0b;--c4:#f87171;--r:14px;--sh:0 10px 30px rgba(0,0,0,.35);--gap:clamp(10px,2vw,18px)}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;color:var(--text);background:radial-gradient(1200px 800px at 10% -10%, #1a2038 0, transparent 60%),radial-gradient(1200px 800px at 120% -10%, #132144 0, transparent 60%),var(--bg)}
.wrap{max-width:1100px;margin:16px auto 28px;padding:0 12px 24px}
header{display:flex;align-items:center;justify-content:space-between;gap:var(--gap);margin-bottom:14px}
.brand{display:flex;align-items:center;gap:10px}
.brand img{height:32px;width:auto;display:block}
h1{margin:0;font-size:clamp(18px,1.8vw,22px);font-weight:700;letter-spacing:.3px;color:var(--text)}
.grid{display:grid;grid-template-columns:repeat(4,minmax(220px,1fr));gap:var(--gap)}
@media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
@media (max-width:520px){.grid{grid-template-columns:1fr}}
.card{position:relative;display:flex;align-items:flex-start;gap:12px;background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid rgba(255,255,255,.06);border-radius:var(--r);padding:14px;box-shadow:var(--sh);cursor:pointer;outline:0;transition:transform .18s,box-shadow .18s,border-color .18s}
.card:hover{transform:translateY(-2px);box-shadow:0 14px 36px rgba(0,0,0,.45)}
.card:focus-visible{box-shadow:var(--sh),0 0 0 3px rgba(125,211,252,.45)}
.card.active{border-color:rgba(125,211,252,.35)}
.icon{width:28px;height:28px;border-radius:9px;display:grid;place-items:center;flex:0 0 28px;background:rgba(125,211,252,.18);color:var(--text)}
.content{flex:1;min-width:0}
.content h2{margin:0 0 4px;color:var(--text);font-size:clamp(1rem,1.5vw,1.15rem);line-height:1.15}
.content p{margin:0;color:var(--muted);font-size:clamp(.9rem,1.1vw,.98rem);line-height:1.3}
.chev{position:absolute;right:10px;top:10px;opacity:.75;transition:transform .2s}
.card.active .chev{transform:rotate(180deg)}
.details{margin-top:16px;background:linear-gradient(180deg,rgba(22,26,43,.9),rgba(27,32,54,.95));border:1px solid rgba(255,255,255,.08);border-radius:var(--r);box-shadow:var(--sh)}
.details[hidden]{display:none}
.details-inner{padding:18px}
.details h3{margin:4px 0 10px;font-size:1.05rem;color:var(--text)}
.details ul{margin:0;padding-left:18px}
.details li{margin:8px 0}
.controls{display:flex;gap:10px;align-items:center;justify-content:flex-end;margin:6px 12px 0}
.btn{border:1px solid rgba(255,255,255,.14);background:#0f1527;color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer;font-weight:600}
.btn:hover{border-color:rgba(125,211,252,.35)}
.circle{width:14px;height:14px;border-radius:50%;background:currentColor;opacity:.95}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <img alt="NAV CANADA logo" src="data:image/svg+xml;utf8,<?xml version='1.0' encoding='UTF-8'?>%3Csvg xmlns='http://www.w3.org/2000/svg' width='220' height='40' viewBox='0 0 220 40'%3E%3Crect width='220' height='40' fill='none'/%3E%3Cg transform='translate(6,4)'%3E%3Cpath d='M12 22 l4-5 4 5 -2-1 0 5 -4 0 0-5 z' fill='%23f87171' opacity='0.95'/%3E%3Ctext x='28' y='23' font-family='Segoe UI, Arial, sans-serif' font-weight='700' font-size='20' fill='%23ffffff'%3ENAV CANADA%3C/text%3E%3C/g%3E%3C/svg%3E">
      <h1>NAV CANADA — Four Categories of Standards</h1>
    </div>
  </header>

  <div class="grid" id="conceptGrid" role="list" aria-label="Standards Categories"></div>

  <section class="details" id="detailsPanel" hidden aria-live="polite" aria-atomic="true">
    <div class="controls"><button class="btn" id="collapseBtn" aria-controls="detailsPanel">Collapse</button></div>
    <div class="details-inner" id="detailsInner"></div>
  </section>
</div>

<script>
const concepts=[{
  id:"cns",title:"CNS & Surveillance Standards",summary:"Communications, Navigation, Surveillance performance & resilience.",color:"var(--c1)",
  bullets:["Service levels","Redundancy & resilience","Interoperability","Security & lifecycle"]
},{
  id:"ats",title:"ATS Operations Standards",summary:"Controller procedures, separation and coordination across FIRs.",color:"var(--c2)",
  bullets:["Separation & procedures","Sectorization & staffing","Handover & coordination","Contingency modes"]
},{
  id:"aim",title:"AIM & Data Standards",summary:"Aeronautical information quality, publication and digital exchange.",color:"var(--c3)",
  bullets:["Data quality","Digital data","AIRAC governance","Data stewardship"]
},{
  id:"safety",title:"Safety & Risk Management Standards",summary:"SMS, change safety cases and performance monitoring.",color:"var(--c4)",
  bullets:["Safety Management System","Change management","Occurrence management","Performance monitoring"]
}];

const grid=document.getElementById("conceptGrid");
const details=document.getElementById("detailsPanel");
const detailsInner=document.getElementById("detailsInner");
const collapseBtn=document.getElementById("collapseBtn");
let activeId=null;

function escapeHTML(s){return String(s).replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[m]))}

function renderCard(c){
  const card=document.createElement("button");
  card.className="card";card.type="button";card.setAttribute("role","listitem");
  card.setAttribute("aria-expanded","false");card.dataset.id=c.id;
  const icon=document.createElement("div");icon.className="icon";icon.style.color=c.color;
  const dot=document.createElement("div");dot.className="circle";icon.appendChild(dot);
  const content=document.createElement("div");content.className="content";
  const h2=document.createElement("h2");h2.textContent=c.title;
  const p=document.createElement("p");p.textContent=c.summary;
  content.appendChild(h2);content.appendChild(p);
  const chev=document.createElementNS("http://www.w3.org/2000/svg","svg");
  chev.setAttribute("class","chev");chev.setAttribute("width","18");chev.setAttribute("height","18");chev.setAttribute("viewBox","0 0 24 24");chev.setAttribute("aria-hidden","true");
  const path=document.createElementNS("http://www.w3.org/2000/svg","path");path.setAttribute("fill","currentColor");path.setAttribute("d","M7 10l5 5 5-5z");
  chev.appendChild(path);
  card.appendChild(icon);card.appendChild(content);card.appendChild(chev);
  card.addEventListener("click",()=>openDetails(c.id));
  card.addEventListener("keydown",e=>{
    const cards=[...grid.querySelectorAll(".card")];const i=cards.indexOf(card);
    const cols=getComputedStyle(grid).gridTemplateColumns.split(" ").length;let next=null;
    if(["ArrowRight","ArrowDown"].includes(e.key)) next=cards[(i+(e.key==="ArrowRight"?1:cols))%cards.length];
    else if(["ArrowLeft","ArrowUp"].includes(e.key)) next=cards[(i-(e.key==="ArrowLeft"?1:cols)+cards.length)%cards.length];
    if(next){next.focus();e.preventDefault()}
  });
  return card;
}

function openDetails(id){
  if(activeId===id){collapseDetails();return}
  activeId=id;
  grid.querySelectorAll(".card").forEach(btn=>{
    const on=btn.dataset.id===id;btn.classList.toggle("active",on);btn.setAttribute("aria-expanded",on?"true":"false");
  });
  const c=concepts.find(x=>x.id===id);
  const bullets=c.bullets.map(li=>`<li>${escapeHTML(li)}</li>`).join("");
  detailsInner.innerHTML=`<h3 style="color:${c.color}">${escapeHTML(c.title)} — Fundamentals</h3><ul>${bullets}</ul>`;
  details.hidden=false;setTimeout(()=>details.scrollIntoView({behavior:"smooth",block:"nearest"}),10);
}

function collapseDetails(){
  activeId=null;details.hidden=true;
  grid.querySelectorAll(".card").forEach(btn=>{btn.classList.remove("active");btn.setAttribute("aria-expanded","false")});
}

collapseBtn.addEventListener("click",collapseDetails);

(function init(){
  grid.innerHTML="";concepts.forEach(c=>grid.appendChild(renderCard(c)));
})();
</script>
</body>
</html>
